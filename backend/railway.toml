[build]
builder = "NIXPACKS"

[deploy]
startCommand = "uvicorn main:app --host 0.0.0.0 --port $PORT"

[build]
buildCommand = "pip install -r requirements.prod.txt"

[build.env]
PYTHON_VERSION = "3.10.13"

[environments.production]
DATABASE_URL = "${{ RAILWAY_POSTGRESQL_URL }}"
MODEL_PATH = "models/best_model.h5"
SCALER_PATH = "models/scaler_strong_fluctuation.pkl"
OPENWEATHER_API_KEY = "${{ OPENWEATHER_API_KEY }}"
